.\" 
.\" $Header: /afs/dev.mit.edu/source/repository/athena/bin/aklog/aklog.1,v 1.1 1990-06-18 14:38:27 probe Exp $
.\" $Source: /afs/dev.mit.edu/source/repository/athena/bin/aklog/aklog.1,v $
.\" $Author: probe $
.\"
.\"
.TH AKLOG 1 "July 5, 1989"
.UC 4
.SH NAME
aklog \- authenticate to a directory or cell in afs

.SH SYNOPSIS
.B aklog [-d] [-zsubs] [-noauth] [[-cell | -c] cell 
[-k krb_realm]] [[-path] pathname] ...

.SH DESCRIPTION
.I aklog
is used to log (authenticate) to a cell or directory in 
.I afs,
the Andrew Filesystem, by obtaining afs 
.I tokens.  
Ordinarily, aklog is not used directly but called by
.I attach(1).

If no commandline arguments are given, 
.I aklog
will log to the local cell.
Any number of cells and paths can be mixed on the
commandline.  If 
.I -cell
or
.I -path
appears, the following argument will be treated as a cell or a
pathname respectively.  If not, and the argument contains a slash (/),
it will be treated as a pathname; otherwise, it will be treated
as a cell.

.I -d
turns on debugging information not normally useful to users.

.I -zsubs
causes aklog to print the zephyr subscription information that a
person using a given path or cell would want to subscribe to.
It is primarily used from attach.  The output is of the form

zsub: 
.I instance

where 
.I instance
is the instance of a class filsrv subscription.

.I -noauth
suppresses authentication.  This is usually used in conjunction
with -zsubs when only zephyr information is desired.

The 
.I -k
flag, when used after the name of a cell, introduces the name of
the kerberos realm of the cell.  This is an optional parameter
since
.I aklog 
should be able to get this information on its own.

.SH RETURNS
The exit status of
.I aklog
will be one of the following:
.TP 5
0
Success -- No error occurred.
.TP 5
1
Usage -- Bad command syntax; accompanied by a usage message.
.TP 5
2
Something failed -- More than one cell or pathname was given on
the commandline and at least one failure occurred.
A more specific error status is returned when only one directive
is given.
.TP 5
3
AFS -- Unable to get AFS configuration or unable to get
information about a specific cell.
.TP 5
4
Kerberos -- Unable to get tickets for authentication.
.TP 5
5
Token -- Unable to get tokens.
.TP 5
6
Bad pathname -- The path given was not a directory or 
.I lstat(2)
failed on some component of the pathname.
.TP 5
7
Miscellaneous -- An internal failure occurred.  For example, 
.I aklog
returns this if it runs out of memory.

.SH EXAMPLES
.br
To get tokens for the local cell:
.br
% aklog

To get tokens for the athena.mit.edu cell:
.br
% aklog athena.mit.edu

To get tokens adequate to read /afs/athena.mit.edu/user/p/potato:
.br
% aklog /afs/athena.mit.edu/user/p/potato

To get tokens for a test cell that is in a test Kerberos realm:
.br
% aklog testcell.mit.edu -k TESTREALM.MIT.EDU

.SH SEE ALSO
attach(1)

.SH AUTHOR
Emanuel Jay Berkenbilt (MIT-Project Athena)
